# Harmonized EDF signal definitions

This table reflects the definitions in
```
nsrr/common/resources/harm.canonical.sigs
```
which is the underlying file used by NAP to create the _harmonized EDF_
(and should be kept in sync with the former).

These are the only channels that may be present only in the _harmonized EDF_
generated by NAP.  See the `harm.canonical.sigs` file for the exact specifications
of which labels (under the default NAP mapping) will map to a given harmonized term.

Cohort-specific over-rides can be specified via the `NAP_HARM_USER_SIGS`
and `NAP_CANONICAL_GROUP` NAP flags.  See the file `harm.canonical.sigs` for
an example of doing this. 

## EEG

All EEG channels should have an explicit label in the form {active}-{reference}: e.g. `C3-M2` or `C3-LM`.

Labels are _not_ assunmed to be case sensitive.

Harmonized EDFs currently contain only the following:

| Channel | Description          |
| ------- | -------------------- |
| `C3-M2` | Left central contra-lateral mastoid reference |
| `C4-M1` | Right central contra-lateral mastoid reference |
| `F3-M2` | Left frontal contra-lateral mastoid reference |
| `F4-M1` | Right frontal contra-lateral mastoid reference |
| `T3-M2` | Left temporal contra-lateral mastoid reference |
| `T4-M1` | Right temporal contra-lateral mastoid reference |
| `O1-M2` | Left occipital contra-lateral mastoid reference |
| `O2-M1` | Right occipital contra-lateral mastoid reference |

More generically, the following terms will be used when other
types of channels are supported in the harmonized EDFs:

| Channel | Description          |
| ------- | -------------------- |
| `C3` `C4` `F3` `F4` `O1` `O2` `T3` `T4` | Standard EEG channels (not case-sensitive) |
| `M1` `M2` | Mastoid references (`A1` and `A2` mapped to `M1` and `M2`) |
| `AVG`     | Average reference               |
| `LM`      | Linked mastoid reference        |
| `SL`      | Surface Laplacian (hdEEG)       |
| `REF`     | Unspecified recording reference |

For higher density EEG studies, the following electrode names are also defined.

| Channel | Description          |
| ------- | -------------------- |
| `Cz` `F7` `F8` `Fz` `Fp1` `Fp2` `Fpz` <br> `P3` `P4` `Pg1` `Pg2` `Pz` <br> `T5` `T6` | Standard EEG channels (not case-sensitive) |


__Note:__ these are currently not defined in or used by NAP however (i.e. these channels will be
dropped in the harmonized EDFs - `harm.canonical.sigs` should be updated to include these
prior to running on studies with extended EEG montages.


## EOG

All EOG channels should have an explicit label in the form {active}-{reference}: e.g. `E1-M2` or `E2-M2`.

| Channel | Description                |
| ------- | -------------------------- |
| `E1-M2`  | Left EOG referenced to right mastoid                   |
| `E2-M2`   | Right EOG referenced to right mastoid (AASM preferred) |
| `E2-M1`   | Right EOG referenced to left mastoid |


## ECG

All ECG channels should have an explicit label in the form {active}-{reference}: e.g. `ECG1-ECG2` or `ECG1-ECG3`

| Channel    | Description             |
| ---------- | ----------------------- |
| `ECG`       | ECG, Unspecified: may be bipolar (ECG1 referenced to ECG2); or collected to a common reference |
| `ECG1`      | ECG, Left subclavicular |
| `ECG2`      | ECG, Right subclavicular |
| `ECG3`      | ECG, Left rib cage or axillary |
| `REF`       | Common reference (??) |
| `HR`        | Derived heart rate from ECG |
| `PTT`       | Time between ECG and pulse waveform |

Currently, `harm.canonical.sigs` specifies the following:

| Channel    | Description             |
| ---------- | ----------------------- |
| `ECG1-ECG2` | Constructed if a left and right subclavicular ECG are present |
| `ECG-REF`   | Constructed if only a single ECG channel is present |
| `ECG1-REF`  | |
| `ECG2-REF`  | |
| `ECG3-REF`  | |
| `HR`        | Derived heart rate from ECG |

### EMG

All EMG channels should have an explicit label in the form {active}-{reference}: e.g. `lchin-cchin` or `chin-Fpz`

Chin EMG

| Channel  | Description                                   |
| -------- | --------------------------------------------- |
| `chin`         | Chin EMG, Unspecified reference|
| `lchin` `rchin` `cchin` | Chin EMG (left, right and central) |
| `larm` `rarm` | Left/right arm EMG |
| `lleg` `rleg` | Left/right leg EMG  |

Leg EMG



### Respiratory

Respiratory effort

| Channel     | Description                      |
| ----------- | -------------------------------- |
| `abdomen`   | Abdominal Effort                 |
| `thorax`    | Thoracic (Chest) Effort           |
| `sum`       | Sum of thorax and abdomenal effort |


Airflow

| Channel     | Description                      |
| ----------- | -------------------------------- |
| `therm`     | Thermistor Airflow (nasal-oral)   |
| `nas_pres`  | Nasal Pressure (airflow)          |
| `nas_pres_swt` |  Nasal Pressure (with square wave transform) ?? |
| `resprate`  | Respiratory Rate                  |

Snoring

| Channel     | Description                      |
| ----------- | -------------------------------- |
| `snore`     | Snore  (sound or vibration)      |

CPAP channels

| Channel     | Description                      |
| ----------- | -------------------------------- |
| `leak`      | CPAP Leak  (airflow leak during CPAP) |
| `pap_flow`  | CPAP flow  (flow signal)          |
| `pap_pres`  | CPAP pressure (mmHg)              |
| `pap_vol`   | CPAP volume                       | 

Others

| Channel     | Description                      |
| ----------- | -------------------------------- |
| `SpO2`      | Peripheral oxygen saturation     |
| `cap`       | Capnography (CO2 monitoring)     |
| `TcCO2`     | Transcutaneous CO2               |
| `EtCO2`     | End Tidal CO2                    |
| `PaO2`      | Partial oyxgen pressure |


## Unmapped

Currentlt, these classes of channels are not mapped to canonical terms (i.e. will not be present in
the harmonized EDFs)

| Channel   | Description            |
| --------- | ---------------------- |
| `light`     | Light (ambient)      |
| | | 
| `pulse`     | Pulse   (heart rate from pulse oximeter) |
| `oxstat`    | Oximeter Status        |
| | |
| `pleth`     | Plethysmography        |
| `plethstat` | Plethysmography status |
| | |
| `activity`  | Activity (movement from accelerometer)  |
| | |
| `position`  | Body Position (note: this should be encoded as an annotation) |
| `elevation` | Elevation (body postion)  |
| `grav`      | Gravity  (position)       |
| `gravx`     | Gravity X  (position)     |
| `gravy`     | Gravity Y  (position)     |
| `man_pos`   | Manual Position           |

